import{r as d,j as e,B as g,G as a,D as x}from"./index-C9WX4c-1.js";import{a as p}from"./axios-BWHFMaIN.js";import{T as r,B as f}from"./TextField-MycDRbzs.js";import{M as j}from"./Skeleton-DYWKFd7F.js";import{D as w}from"./DataGrid-BQJGe_WI.js";import{G as b}from"./GridToolbar-BELZC9Nj.js";function I(o){const l=[{value:"yes",label:"yes"},{value:"no",label:"no"}],[n,u]=d.useState({firstName:"",lastName:"",userName:"",empId:"",password:0,isActive:"",appId:""}),h=async()=>{console.log(n);try{const i=await p.post("https://gecxc.com:4041/api/Users/SaveUsers",n);console.log("Form data saved:",i.data),u({firstName:"",lastName:"",userName:"",empId:"",password:"",isActive:"",appId:""}),o&&o()}catch(i){console.error("Error saving data:",i)}};return e.jsx("div",{children:e.jsx(g,{m:3,pt:4,component:"form",sx:{"& .MuiTextField-root":{m:1,width:"inherit"}},noValidate:!0,autoComplete:"off",children:e.jsxs(a,{container:!0,children:[e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"First Name",name:"First Name",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"Last Name",name:"Last Name",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"User Name",name:"User Name",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"Id",name:"Id",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"Password",name:"Password",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"is Active",name:"is Active",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"Emp Id",name:"Emp Id",size:"small",required:!0})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-select-option",select:!0,label:"Enabled",defaultValue:"yes",variant:"outlined",size:"small",fullWidth:!0,children:l.map(i=>e.jsx(j,{value:i.value,children:i.label},i.value))})}),e.jsx(a,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(r,{id:"outlined-required",label:"App Id",name:"App Id",size:"small",required:!0})}),e.jsx(a,{item:!0,md:12,width:"inherit",paddingX:1,textAlign:"right",children:e.jsx(f,{variant:"contained",color:"primary",size:"small",onClick:h,children:"Save"})})]})})})}function N(){const[o,l]=d.useState([]),n=d.useCallback(async()=>{try{console.log("Fetching data...");const t=await p.get("https://gecxc.com:4041/api/Users/GetUserMenuByEmpId?empId=1");console.log("Data fetched:",t.data);const s=t.data.result.map((m,c)=>({id:c,...m}));console.log("Data with ID:",s),l(s)}catch(t){console.error("Error fetching data:",t)}},[]);d.useEffect(()=>{n()},[n]);const u=d.useCallback(async()=>{try{console.log("Fetching data...");const t=await p.get("https://gecxc.com:4041/api/Users/GetUserSubMenuByEmpId?empId=1");console.log("Data fetched:",t.data);const s=t.data.result.map((m,c)=>({id:c,...m}));console.log("Data with ID:",s),l(s)}catch(t){console.error("Error fetching data:",t)}},[]);d.useEffect(()=>{u()},[u]);const h=d.useCallback(async()=>{try{console.log("Fetching data...");const t=await p.get("https://gecxc.com:4041/api/Users/GetUsersList");console.log("Data fetched:",t.data);const s=t.data.result.map((m,c)=>({id:c,...m}));console.log("Data with ID:",s),l(s)}catch(t){console.error("Error fetching data:",t)}},[]);d.useEffect(()=>{h()},[h]);const i=[{field:"firstName",headerName:"First Name",width:150},{field:"lastName",headerName:"Last Name",width:200},{field:"userName",headerName:"User Name",minWidth:120},{field:"empId",headerName:" Emp Id",minWidth:120},{field:"password",headerName:"Password",minWidth:120},{field:"isActive",headerName:"is Active",minWidth:120},{field:"appId",headerName:"App Id",minWidth:120}];return e.jsx("div",{style:{height:"auto",width:"100%"},children:e.jsx(w,{rows:o,columns:i,autoHeight:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,15],localeText:{toolbarDensity:"Size",toolbarDensityLabel:"Size",toolbarDensityCompact:"Small",toolbarDensityStandard:"Medium",toolbarDensityComfortable:"Large"},components:{Toolbar:b}})})}function A(o){return e.jsxs(e.Fragment,{children:[e.jsx(I,{}),e.jsx(x,{}),e.jsx(N,{fetchData:o})]})}export{A as default};
