import{r as d,o as Xe,p as Ke,s as Ze,_ as de,w as _e,z as Je,i as De,j as e,l as et,h as J,g as tt,Y as at,Z as lt,N as st,a5 as Ie,a as ke,a6 as je,a7 as Oe,a8 as Fe,a9 as We,aa as Te,C as D,d as ee,G as l,D as ce,ab as He,T as ie,B as re,S as ve,b as Be,ac as ot,ad as nt,ae as rt,af as dt,M as Ue}from"./index-5-KS9U5a.js";import{a as $}from"./axios-C61keMiO.js";import{A as Ce,c as ye,d as Se,e as Pe,f as Le,g as Ee,S as it,a as ct,b as ut,F as ht}from"./Fabrication-Cdc8JAIG.js";import{d as Me,a as Ge,F as Qe}from"./EditAbleDataGrid-Bw1H5Q9D.js";import{a as mt,b as pt,T as o,B as Y,I as gt,S as xt,O as ft,P as bt}from"./TextField-WQpxwAfx.js";import{M as j}from"./Skeleton-B9-G0ACm.js";import{A as be,C as qe,D as Ne}from"./DataGrid-Bi9adOVz.js";import{G as Ye}from"./GridToolbar-BtJHPwf8.js";function vt(a){return d.Children.toArray(a).filter(t=>d.isValidElement(t))}function It(a){return Ke("MuiButtonGroup",a)}const E=Xe("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),jt=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Ct=(a,t)=>{const{ownerState:n}=a;return[{[`& .${E.grouped}`]:t.grouped},{[`& .${E.grouped}`]:t[`grouped${J(n.orientation)}`]},{[`& .${E.grouped}`]:t[`grouped${J(n.variant)}`]},{[`& .${E.grouped}`]:t[`grouped${J(n.variant)}${J(n.orientation)}`]},{[`& .${E.grouped}`]:t[`grouped${J(n.variant)}${J(n.color)}`]},{[`& .${E.firstButton}`]:t.firstButton},{[`& .${E.lastButton}`]:t.lastButton},{[`& .${E.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},yt=a=>{const{classes:t,color:n,disabled:s,disableElevation:S,fullWidth:W,orientation:O,variant:N}=a,g={root:["root",N,O==="vertical"&&"vertical",W&&"fullWidth",S&&"disableElevation"],grouped:["grouped",`grouped${J(O)}`,`grouped${J(N)}`,`grouped${J(N)}${J(O)}`,`grouped${J(N)}${J(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return tt(g,It,t)},St=Ze("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Ct})(({theme:a,ownerState:t})=>de({display:"inline-flex",borderRadius:(a.vars||a).shape.borderRadius},t.variant==="contained"&&{boxShadow:(a.vars||a).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${E.grouped}`]:de({minWidth:40,"&:hover":de({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${E.firstButton},& .${E.middleButton}`]:de({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:a.vars?`1px solid rgba(${a.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${a.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${E.disabled}`]:{borderRight:`1px solid ${(a.vars||a).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:a.vars?`1px solid rgba(${a.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${a.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${E.disabled}`]:{borderBottom:`1px solid ${(a.vars||a).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:a.vars?`rgba(${a.vars.palette[t.color].mainChannel} / 0.5)`:_e(a.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(a.vars||a).palette.grey[400]}`,[`&.${E.disabled}`]:{borderRight:`1px solid ${(a.vars||a).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(a.vars||a).palette.grey[400]}`,[`&.${E.disabled}`]:{borderBottom:`1px solid ${(a.vars||a).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(a.vars||a).palette[t.color].dark},{"&:hover":de({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${E.lastButton},& .${E.middleButton}`]:de({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Ve=d.forwardRef(function(t,n){const s=Je({props:t,name:"MuiButtonGroup"}),{children:S,className:W,color:O="primary",component:N="div",disabled:g=!1,disableElevation:M=!1,disableFocusRipple:G=!1,disableRipple:B=!1,fullWidth:X=!1,orientation:H="horizontal",size:K="medium",variant:R="outlined"}=s,Q=De(s,jt),U=de({},s,{color:O,component:N,disabled:g,disableElevation:M,disableFocusRipple:G,disableRipple:B,fullWidth:X,orientation:H,size:K,variant:R}),T=yt(U),w=d.useMemo(()=>({className:T.grouped,color:O,disabled:g,disableElevation:M,disableFocusRipple:G,disableRipple:B,fullWidth:X,size:K,variant:R}),[O,g,M,G,B,X,K,R,T.grouped]),Z=vt(S),V=Z.length,_=b=>{const A=b===0,i=b===V-1;return A&&i?"":A?T.firstButton:i?T.lastButton:T.middleButton};return e.jsx(St,de({as:N,role:"group",className:et(T.root,W),ref:n,ownerState:U},Q,{children:e.jsx(mt.Provider,{value:w,children:Z.map((b,A)=>e.jsx(pt.Provider,{value:_(A),children:b},A))})}))});let we=!1;const Pt=d.forwardRef(function(t,n){return we||(console.warn(["MUI: The Autocomplete component was moved from the lab to the core.","","You should use `import { Autocomplete } from '@mui/material'`","or `import Autocomplete from '@mui/material/Autocomplete'`"].join(`
`)),we=!0),e.jsx(be,de({ref:n},t))});var Re={},Nt=lt;Object.defineProperty(Re,"__esModule",{value:!0});var $e=Re.default=void 0,At=Nt(at()),zt=e;$e=Re.default=(0,At.default)((0,zt.jsx)("path",{d:"M21 10h-3L2 3v7l9 2-9 2v7l8-3.5V21c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2m0 11h-9v-9h9zm-4.5-1L13 16h2v-3h3v3h2z"}),"SendAndArchive");const kt=()=>{const a=st(),[t,n]=d.useState([]),[s,S]=d.useState({embroideryId:(t==null?void 0:t.embroideryId)||0,designId:(t==null?void 0:t.designId)||"",batchNo:(t==null?void 0:t.batchNo)||"",planningHeaderId:(t==null?void 0:t.planningHeaderId)||"",componentId:(t==null?void 0:t.componentId)||"",fabricId:(t==null?void 0:t.fabricId)||"",vendorId:(t==null?void 0:t.vendorId)||"",poPcs:(t==null?void 0:t.poPcs)||"",baseColorId:(t==null?void 0:t.baseColorId)||"",baseColorName:(t==null?void 0:t.baseColorName)||"",colorId:(t==null?void 0:t.colorId)||"",availableQty:(t==null?void 0:t.availableQty)||"",noOfHead:(t==null?void 0:t.noOfHead)||"",repeats:(t==null?void 0:t.repeats)||"",cuttingSize:(t==null?void 0:t.cuttingSize)||"",itemsPerRepeat:(t==null?void 0:t.itemsPerRepeat)||"",totalPcs:(t==null?void 0:t.totalPcs)||"",totalAmount:(t==null?void 0:t.totalAmount)||"",threadStiches:(t==null?void 0:t.threadStiches)||"",threadRate:(t==null?void 0:t.threadRate)||"",threadAmount:(t==null?void 0:t.threadAmount)||"",tillaStiches:(t==null?void 0:t.tillaStiches)||"",tilaRate:(t==null?void 0:t.tilaRate)||"",tilaAmount:(t==null?void 0:t.tilaAmount)||"",sequence:(t==null?void 0:t.sequence)||"",sequenceRate:(t==null?void 0:t.sequenceRate)||"",sequenceAmount:(t==null?void 0:t.sequenceAmount)||"",isSolving:(t==null?void 0:t.isSolving)||!1,solvingLayers:(t==null?void 0:t.solvingLayers)||0,solvingInMeters:(t==null?void 0:t.solvingInMeters)||"",solvingRate:(t==null?void 0:t.solvingRate)||0,solvingAmount:(t==null?void 0:t.solvingAmount)||"",threadAdditional:(t==null?void 0:t.threadAdditional)||[],costPerComponent:(t==null?void 0:t.costPerComponent)||"",createdOn:(t==null?void 0:t.createdOn)||new Date().toISOString(),createdBy:(t==null?void 0:t.createdBy)||0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0});d.useEffect(()=>{S({embroideryId:(t==null?void 0:t.embroideryId)||0,designId:(t==null?void 0:t.designId)||"",batchNo:(t==null?void 0:t.batchNo)||"",planningHeaderId:(t==null?void 0:t.planningHeaderId)||"",componentId:(t==null?void 0:t.componentId)||"",fabricId:(t==null?void 0:t.fabricId)||"",vendorId:(t==null?void 0:t.vendorId)||"",poPcs:(t==null?void 0:t.poPcs)||"",baseColorId:(t==null?void 0:t.baseColorId)||"",baseColorName:(t==null?void 0:t.baseColorName)||"",colorId:(t==null?void 0:t.colorId)||"",availableQty:(t==null?void 0:t.availableQty)||"",noOfHead:(t==null?void 0:t.noOfHead)||"",repeats:(t==null?void 0:t.repeats)||"",cuttingSize:(t==null?void 0:t.cuttingSize)||"",itemsPerRepeat:(t==null?void 0:t.itemsPerRepeat)||"",totalPcs:(t==null?void 0:t.totalPcs)||"",totalAmount:(t==null?void 0:t.totalAmount)||"",threadStiches:(t==null?void 0:t.threadStiches)||"",threadRate:(t==null?void 0:t.threadRate)||"",threadAmount:(t==null?void 0:t.threadAmount)||"",tillaStiches:(t==null?void 0:t.tillaStiches)||"",tilaRate:(t==null?void 0:t.tilaRate)||"",tilaAmount:(t==null?void 0:t.tilaAmount)||"",sequence:(t==null?void 0:t.sequence)||"",sequenceRate:(t==null?void 0:t.sequenceRate)||"",sequenceAmount:(t==null?void 0:t.sequenceAmount)||"",isSolving:(t==null?void 0:t.isSolving)||!1,solvingLayers:(t==null?void 0:t.solvingLayers)||0,solvingInMeters:(t==null?void 0:t.solvingInMeters)||"",solvingRate:(t==null?void 0:t.solvingRate)||0,solvingAmount:(t==null?void 0:t.solvingAmount)||"",threadAdditional:(t==null?void 0:t.threadAdditional)||[],costPerComponent:(t==null?void 0:t.costPerComponent)||"",createdOn:(t==null?void 0:t.createdOn)||new Date().toISOString(),createdBy:(t==null?void 0:t.createdBy)||0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0})},[t]);const W=["Boring","Pooni","Laser","Doori","Dissolving"];function O(r,I,x){return{fontWeight:I.indexOf(r)===-1?x.typography.fontWeightRegular:x.typography.fontWeightMedium}}const{data:N}=Ie(),[g,M]=d.useState(""),{data:G}=ke(),{data:B,refetch:X}=je(g,{skip:!g}),{data:H,refetch:K}=Oe(s.designId,{skip:!s.designId}),{data:R}=Fe({batchNo:s.planningHeaderId,componentId:s.componentId},{skip:!s.planningHeaderId||!s.componentId}),{data:Q}=We({batchNo:s.planningHeaderId,componentId:s.componentId,fabricId:s.fabricId},{skip:!s.planningHeaderId||!s.componentId||!s.fabricId}),{data:U}=Te(s.planningHeaderId,{skip:!s.planningHeaderId});console.log("formData.planningHeaderId",s.planningHeaderId),console.log("collectionData",N);const[T,w]=d.useState(!1),Z=(r,I)=>{w(I)},[V,_]=d.useState([]),[b,A]=d.useState([]),[i,L]=d.useState([]),[he,ae]=d.useState([]),[k,me]=d.useState([]),[se,F]=d.useState([]),[le,ue]=d.useState([]),[u,C]=d.useState([]);console.log("batchList",b),console.log("formData",s),d.useEffect(()=>{B&&_(B.result)},[B]),d.useEffect(()=>{H&&A(H.result)},[H]),d.useEffect(()=>{R&&L(R.result)},[R]),d.useEffect(()=>{Q&&F(R.result)},[Q]),d.useEffect(()=>{U&&C(U.result)},[U]),console.log("initialRows",le),d.useEffect(()=>{if(G){const r=G.result[0];ae(r.vendorList),me(r.noOfHeadsList)}},[G]);const c=(N==null?void 0:N.result)||[],h=async r=>{const I=`https://gecxc.com:4041/api/Embroidery/GetEmbroideryListByBatchNo?batchNo=${r}`;try{return(await $.get(I)).data}catch(x){throw console.error("Error fetching embroidery data:",x),x}},v=async()=>{if(s.planningHeaderId)try{const I=(await h(s.planningHeaderId)).result.map((x,y)=>({...x,id:y+1}));ue(I),console.log("initialRows",le)}catch(r){console.error(r.message)}};d.useEffect(()=>{v()},[s.planningHeaderId]),d.useEffect(()=>{const r=()=>{const P=parseFloat(s.repeats)||0,q=parseFloat(s.itemsPerRepeat)||0;return P*q};S(P=>({...P,totalPcs:r()}));const I=()=>{const P=parseFloat(s.threadStiches)||0,q=parseFloat(s.threadRate)||0,ne=parseFloat(s.noOfHead)||0,pe=parseFloat(s.repeats)||0;return P/1e3*(q*pe*ne)};S(P=>({...P,threadAmount:I()}));const x=()=>{const P=parseFloat(s.tillaStiches)||0,q=parseFloat(s.tilaRate)||0,ne=parseFloat(s.noOfHead)||0,pe=parseFloat(s.repeats)||0;return P/1e3*(q*pe*ne)};S(P=>({...P,tilaAmount:x()}));const y=()=>{const P=parseFloat(s.sequence)||0,q=parseFloat(s.sequenceRate)||0,ne=parseFloat(s.noOfHead)||0,pe=parseFloat(s.repeats)||0;return P/1e3*(q*pe*ne)};S(P=>({...P,sequenceAmount:y()}));const z=()=>{const P=parseFloat(s.repeats)||0,q=parseFloat(s.noOfHead)||0,ne=parseFloat(s.solvingLayers)||0;return P*q*13/39.37*ne};S(P=>({...P,solvingInMeters:z()}));const te=()=>{const P=parseFloat(s.solvingInMeters)||0,q=parseFloat(s.solvingRate)||0;return parseFloat(s.solvingLayers),P*q};S(P=>({...P,solvingAmount:te()}));const Ae=()=>{const P=parseFloat(s.threadAmount)||0,q=parseFloat(s.tilaAmount)||0,ne=parseFloat(s.sequenceAmount)||0,pe=parseFloat(s.solvingAmount)||0;return P+q+ne+pe};S(P=>({...P,totalAmount:Ae()}));const ze=()=>{const P=parseFloat(s.totalAmount)||0,q=parseFloat(s.totalPcs)||0;return P/q};S(P=>({...P,costPerComponent:ze()}))},[s.threadAmount,s.totalAmount,s.sequenceAmount,s.solvingAmount,s.repeats,s.tilaAmount,s.itemsPerRepeat,s.threadRate,s.threadStiches,s.noOfHead,s.tilaRate,s.tillaStiches,s.sequenceRate,s.sequence,s.solvingLayers,s.solvingInMeters,s.solvingRate]);const f=r=>{const{name:I,checked:x}=r.target;S(y=>({...y,[I]:x}))},p=r=>{const{name:I,value:x}=r.target;if(I==="collectionId")c.find(y=>y.collectionId===parseInt(x)),M(x),S({...s,collectionId:x});else if(I==="designId"){const y=V.find(z=>z.designId===parseInt(x));S({...s,designId:x,baseColorId:y?y.colorId:"",baseColorName:y?y.colorName:""})}else if(I==="colorId"){const y=se.find(z=>z.colorId===x);S({...s,colorId:x,availableQty:y?y.total:"",cuttingSize:y?y.cuttingSize:"",repeats:y?y.repeats:""})}else if(I==="batchNo"){const y=b.find(z=>z.batchNo===x);S({...s,batchNo:x,planningHeaderId:y?y.planningHeaderId:"",poPcs:y?y.poPcs:""}),w(!0)}else S({...s,[I]:x})},oe=async()=>{try{const r=await $.post("https://gecxc.com:4041/api/Embroidery/SaveEmbroidery",{...s,threadAdditional:s.threadAdditional.join(", ")});console.log("Save response:",r.data),v(),n({}),w(!1),S({embroideryId:0,componentId:"",fabricId:"",vendorId:"",poPcs:"",baseColorId:"",baseColorName:"",colorId:"",availableQty:"",noOfHead:"",repeats:"",cuttingSize:"",itemsPerRepeat:"",totalPcs:"",totalAmount:"",threadStiches:"",threadRate:"",threadAmount:"",tillaStiches:"",tilaRate:"",tilaAmount:"",sequence:"",sequenceRate:"",sequenceAmount:"",isSolving:!1,solvingLayers:0,solvingInMeters:"",solvingRate:0,solvingAmount:"",threadAdditional:[],costPerComponent:"",createdOn:new Date().toISOString(),createdBy:0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0})}catch(r){console.error("Error saving data:",r)}};console.log("initialRows",le);const ge=r=>{const I=r.threadAdditional?r.threadAdditional.split(",").map(x=>x.trim()):[];n({...r,threadAdditional:I})};console.log("initialData",t);const xe=async r=>{try{await $.delete(`https://gecxc.com:4041/api/Embroidery/DeleteEmbroideryById?embroideryId=${r}`),v(),console.log("deleted")}catch(I){console.error("Error deleting data:",I)}},m=[{field:"designId",headerName:"Design Id"},{field:"batchNo",headerName:"Batch No."},{field:"componentId",headerName:"Component Id"},{field:"fabricId",headerName:"Fabric Id"},{field:"vendorId",headerName:"Vendor Id"},{field:"poPcs",headerName:"Po Pcs"},{field:"baseColorName",headerName:"Base Color"},{field:"colorId",headerName:"Color"},{field:"availableQty",headerName:"Available Qty"},{field:"noOfHead",headerName:"No. Of Heads"},{field:"repeats",headerName:"Repeats"},{field:"cuttingSize",headerName:"Cutting Size"},{field:"itemsPerRepeat",headerName:"Items Per Repeat"},{field:"totalPcs",headerName:"Total Pcs"},{field:"threadStiches",headerName:"Thread Stitches"},{field:"threadRate",headerName:"Thread Rate"},{field:"threadAmount",headerName:"Thread Amount"},{field:"tillaStiches",headerName:"Tilla Stitches"},{field:"tilaRate",headerName:"Tilla Rate"},{field:"tilaAmount",headerName:"Tilla Amount"},{field:"sequence",headerName:"sequence"},{field:"sequenceRate",headerName:"Sequence Rate"},{field:"sequenceAmount",headerName:"Sequence Amount"},{field:"isSolving",headerName:"Is Solving"},{field:"solvingLayers",headerName:"Solving Layers"},{field:"solvingInMeters",headerName:"Solving In Meters"},{field:"solvingRate",headerName:"Solving Rate"},{field:"solvingAmount",headerName:"Solving Amount"},{field:"threadAdditional",headerName:"ThreadAdditional"},{field:"costPerComponent",headerName:"Cost Per Component"},{field:"Action",headerName:"Actions",renderCell:r=>e.jsx("div",{style:{display:"flex",justifyContent:"space-around"},children:e.jsxs(Ve,{size:"small",variant:"text",children:[e.jsx(ve,{"aria-label":"Edit",onClick:()=>ge(r.row),children:e.jsx(Me,{})}),e.jsx(ve,{"aria-label":"delete",color:"primary",onClick:()=>xe(r.row.embroideryId),children:e.jsx(Ge,{})})]})})}];return e.jsxs(e.Fragment,{children:[e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",title:"Embroidery  ",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[" ",e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Select Collection",name:"collectionId",value:g,onChange:p,size:"small",children:c.map(r=>e.jsx(j,{value:r.collectionId,children:r.collectionName},r.collectionId))})," "]}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Design",name:"designId",value:s.designId,onChange:p,size:"small",children:V.map(r=>e.jsx(j,{value:r.designId,children:r.designNo},r.designId))})}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Batch No.",name:"batchNo",value:s.batchNo,onChange:p,size:"small",children:b.map(r=>e.jsx(j,{value:r.batchNo,children:r.batchNo},r.batchNo))})," "]}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Base Color",fullWidth:!0,size:"small",name:"baseColorName",value:s.baseColorName,onChange:p,disabled:!0})}),e.jsx(l,{item:!0,xs:12,textAlign:"right",sx:{mt:2},children:e.jsx(Y,{variant:"contained",size:"small",onClick:oe,children:"Save"})})]})]}),e.jsx(l,{item:!0,xs:12,md:12,children:e.jsx(ce,{color:"#cc8587",sx:{height:1,width:"100%",mt:2}})}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",title:"Add Embroidery",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(Ce,{expanded:T,onChange:Z,sx:{},children:[e.jsx(ye,{expandIcon:e.jsx(Se,{}),"aria-controls":"panel1-content",id:"panel1-header"}),e.jsxs(Pe,{children:[e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[" ",e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Components",name:"componentId",value:s.componentId,onChange:p,size:"small",children:u.map(r=>e.jsx(j,{value:r.componentId,children:r.componentName},r.componentId))})," "]}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Fabric",defaultValue:"",size:"small",name:"fabricId",value:s.fabricId,onChange:p,children:i.map(r=>e.jsx(j,{value:r.fabricId,children:r.fabric},r.fabricId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Vendors",defaultValue:"",size:"small",name:"vendorId",value:s.vendorId,onChange:p,children:he.map(r=>e.jsx(j,{value:r.lookUpId,children:r.lookUpName},r.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Po Pcs",fullWidth:!0,size:"small",name:"poPcs",value:s.poPcs,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Color",size:"small",name:"colorId",value:s.colorId,onChange:p,children:se.map(r=>e.jsx(j,{value:r.colorId,children:r.color},r.colorId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Available Quantity",fullWidth:!0,size:"small",name:"availableQty",value:s.availableQty,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Repeats",fullWidth:!0,size:"small",name:"repeats",value:s.repeats,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Heads",defaultValue:"",size:"small",name:"noOfHead",value:s.noOfHead,onChange:p,children:k.map(r=>e.jsx(j,{value:r.lookUpId,children:r.lookUpName},r.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Cutting Size",fullWidth:!0,size:"small",name:"cuttingSize",value:s.cuttingSize,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"itemsPerRepeat",fullWidth:!0,size:"small",name:"itemsPerRepeat",value:s.itemsPerRepeat,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"total Pcs.",fullWidth:!0,size:"small",name:"totalPcs",value:s.totalPcs,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Total Amount",fullWidth:!0,size:"small",name:"totalAmount",value:s.totalAmount,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Cost Per Component",fullWidth:!0,size:"small",name:"costPerComponent",value:s.costPerComponent,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(He,{control:e.jsx(qe,{checked:s.isSolving,onChange:f,name:"isSolving"}),label:"isSolving"})}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(gt,{children:"Additional"}),e.jsx(xt,{multiple:!0,value:s.threadAdditional,name:"threadAdditional",onChange:p,input:e.jsx(ft,{label:"Additional"}),fullWidth:!0,children:W.map(r=>e.jsx(j,{value:r,style:O(r,s.threadAdditional,a),children:r},r))})]}),s.isSolving?e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(l,{container:!0,spacing:1,width:"Inherit",children:[e.jsx(l,{item:!0,xs:12,md:12,children:e.jsx(ie,{variant:"h5",gutterBottom:!0,children:"Solving"})})," ",e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Layers",fullWidth:!0,size:"small",name:"solvingLayers",value:s.solvingLayers,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Meters",fullWidth:!0,size:"small",name:"solvingInMeters",value:s.solvingInMeters,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Rate",fullWidth:!0,size:"small",name:"solvingRate",value:s.solvingRate,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Amount",fullWidth:!0,size:"small",name:"solvingAmount",value:s.solvingAmount,onChange:p})})]})}):null,e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(l,{container:!0,spacing:1,width:"Inherit",children:[e.jsx(l,{item:!0,xs:12,md:12,children:e.jsx(ie,{variant:"h5",gutterBottom:!0,children:"Thread"})})," ",e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Stitches",fullWidth:!0,size:"small",name:"threadStiches",value:s.threadStiches,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Rate",fullWidth:!0,size:"small",name:"threadRate",value:s.threadRate,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Amount",fullWidth:!0,size:"small",name:"threadAmount",value:s.threadAmount,onChange:p})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(l,{container:!0,spacing:1,width:"Inherit",children:[e.jsx(l,{item:!0,xs:12,md:12,children:e.jsx(ie,{variant:"h5",gutterBottom:!0,children:"Tilla"})})," ",e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Stitches",fullWidth:!0,size:"small",name:"tillaStiches",value:s.tillaStiches,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Rate",fullWidth:!0,size:"small",name:"tilaRate",value:s.tilaRate,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Amount",fullWidth:!0,size:"small",name:"tilaAmount",value:s.tilaAmount,onChange:p})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[" ",e.jsx(l,{item:!0,xs:12,md:12,children:e.jsx(ie,{variant:"h5",gutterBottom:!0,children:"Sequence"})})," ",e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Sequence",fullWidth:!0,size:"small",name:"sequence",value:s.sequence,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Rate",fullWidth:!0,size:"small",name:"sequenceRate",value:s.sequenceRate,onChange:p})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(o,{label:"Amount",fullWidth:!0,size:"small",name:"sequenceAmount",value:s.sequenceAmount,onChange:p})})]})})]})," "]})," "]})]}),e.jsx(ce,{color:"#cc8587",sx:{height:1,width:"100%",mt:2}}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",title:"View Embroidery ",titleTypographyProps:{style:{color:"white"}}})," ",e.jsx(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:e.jsx(l,{sx:{marginTop:2},item:!0,xs:12,children:e.jsx(re,{sx:{height:500,width:"inherit","& .actions":{color:"text.secondary"},"& .textPrimary":{color:"text.primary"}},children:e.jsx(Ne,{rows:le,columns:m,rowLength:100,sx:{boxShadow:2,border:2,borderColor:"primary.light","& .MuiDataGrid-cell:hover":{color:"primary.main"}}})})})})]})]})},Ot=kt,Bt="/assets/loadingGif-CrY4Z_y7.gif",Rt=()=>{const{data:a}=Ie(),[t,n]=d.useState(""),{data:s,refetch:S}=je(t,{skip:!t}),[W,O]=d.useState([]),{enqueueSnackbar:N}=Be();d.useEffect(()=>{s&&(O(s.result),S())},[s]),console.log("designList",W),console.log("collectionData",a);const g=(a==null?void 0:a.result)||[],[M,G]=d.useState(!1),[B,X]=d.useState([]),[H,K]=d.useState([]),[R,Q]=d.useState([]),[U,T]=d.useState([]),[w,Z]=d.useState([]),[V,_]=d.useState([]),[b,A]=d.useState([]),[i,L]=d.useState({collectionId:"",baseColorId:"",baseColorName:"",noOfDesigns:"",noOfColors:"",planningHeaderId:"",designId:"",batchNo:"",componentId:"",cuttingSize:"",colorId:"",fabricId:"",noOfHeads:"",repeats:"",repeatSize:"",uomId:"",totalFabric:"",shrinkage:"",wastage:"",total:"",appId:1,createdOn:new Date().toISOString(),createdBy:0,lastUpdatedBy:0,lastUpdatedOn:new Date().toISOString()});d.useEffect(()=>{(async()=>{try{const c=(await $.get("https://gecxc.com:4041/API/Common/GetPrePlanningLookUp?appID=1")).data.result[0];X(c.componentList),Q(c.colorList),K(c.fabricList),Z(c.noOfHeadsList),T(c.uom)}catch(C){console.error("Error fetching pre-planning lookup data:",C)}})()},[]),d.useEffect(()=>{const u=async c=>{try{const h=await $.get(`https://gecxc.com:4041/api/PrePlanning/GetPrePlanningHeaderByDesignId?designId=${c}`);console.log(h.data),_(h.data.result)}catch(h){console.error("Error fetching pre-planning lookup data:",h)}},C=async c=>{try{const h=await $.get(`https://gecxc.com:4041/api/PrePlanning/GetPrePlanningByPlanningHeaderId?planningHeaderId=${c}`);console.log("GetPrePlanningByPlanningHeaderI",h.data.result),A(h.data.result.map((v,f)=>({...v,id:f})))}catch(h){console.error("Error fetching pre-planning lookup data:",h)}};i.designId&&u(i.designId),i.designId&&C(i.planningHeaderId)},[i.designId,i.planningHeaderId]),d.useEffect(()=>{const u=()=>{const c=parseFloat(i.repeats)||0,h=parseFloat(i.repeatSize)||0;return c*h};L(c=>({...c,totalFabric:u()}));const C=()=>{const c=parseFloat(i.totalFabric)||0,h=parseFloat(i.shrinkage)||0,v=parseFloat(i.wastage)||0;return c*(100+(h+v))/100};L(c=>({...c,total:C()}))},[i.repeats,i.repeatSize,i.totalFabric,i.shrinkage,i.wastage]);const[he,ae]=d.useState(!1);d.useState(!1);const k=u=>{const{name:C,value:c}=u.target;if(C==="collectionId"){const h=g.find(v=>v.collectionId===parseInt(c));n(c),L({...i,collectionId:c,noOfDesigns:h?h.noOfDesigns:"",noOfColors:h?h.noOfColors:""})}else if(C==="designId"){const h=W.find(v=>v.designId===parseInt(c));L({...i,designId:c,baseColorId:h?h.colorId:"",baseColorName:h?h.colorName:""})}else if(C==="batchNo"){const h=V.find(v=>v.batchNo===c);L({...i,batchNo:c,planningHeaderId:h?h.planningHeaderId:""}),ae(!0)}else L({...i,[C]:c})},me=async()=>{try{const u=await $.post("https://gecxc.com:4041/api/PrePlanning/SavePrePlanning",{designId:parseInt(i.designId),planningHeaderId:parseInt(i.planningHeaderId),componentId:parseInt(i.componentId),colorId:parseInt(i.colorId),batchNo:i.batchNo,baseColorId:parseInt(i.baseColorId),cuttingSize:parseFloat(i.cuttingSize),fabricId:parseInt(i.fabricId),noOfHeads:parseInt(i.noOfHeads),repeats:parseFloat(i.repeats),repeatSize:parseFloat(i.repeatSize),uomId:parseInt(i.uomId),totalFabric:parseFloat(i.totalFabric),shrinkage:parseFloat(i.shrinkage),wastage:parseFloat(i.wastage),total:parseFloat(i.total),appId:i.appId,createdOn:i.createdOn,createdBy:i.createdBy,lastUpdatedBy:i.lastUpdatedBy,lastUpdatedOn:i.lastUpdatedOn});console.log("Data saved successfully:",u.data),N("Pre Planning saved successfully!",{variant:"success",autoHideDuration:5e3}),L({collectionId:i.collectionId,designId:i.designId,batchNo:i.batchNo,baseColorName:i.baseColorName,planningHeaderId:i.planningHeaderId,noOfDesigns:i.noOfDesigns,noOfColors:i.noOfColors,componentId:"",cuttingSize:"",colorId:"",fabricId:"",noOfHeads:"",repeats:"",repeatSize:"",uomId:"",totalFabric:"",shrinkage:"",wastage:"",total:"",appId:1,createdOn:new Date().toISOString(),createdBy:0,lastUpdatedBy:0,lastUpdatedOn:new Date().toISOString()});const C=await $.get(`https://gecxc.com:4041/api/PrePlanning/GetPrePlanningByPlanningHeaderId?planningHeaderId=${i.planningHeaderId}`);A(C.data.result.map((c,h)=>({...c,id:h}))),ae(!1)}catch(u){console.error("Error saving data:",u),N("Pre Planning not saved successfully!",{variant:"error",autoHideDuration:5e3})}},se=[{field:"componentId",headerName:"Component",editable:!0,flex:1,type:"singleSelect",valueOptions:B.map(u=>({value:u.lookUpId,label:u.lookUpName}))},{field:"colorId",headerName:"Color",editable:!0,flex:1,type:"singleSelect",valueOptions:R.map(u=>({value:u.lookUpId,label:u.lookUpName}))},{field:"cuttingSize",headerName:"Cutting Size",flex:1,editable:!0},{field:"fabricId",headerName:"Fabrication",editable:!0,flex:1,type:"singleSelect",valueOptions:H.map(u=>({value:u.lookUpId,label:u.lookUpName}))},{field:"noOfHeads",headerName:"No. Of Heads",editable:!0,flex:1,type:"singleSelect",valueOptions:w.map(u=>({value:u.lookUpId,label:u.lookUpName}))},{field:"repeats",headerName:"Repeats",flex:1,editable:!0},{field:"repeatSize",headerName:"Repeat Size",flex:1,editable:!0},{field:"totalFabric",headerName:"Total Fabric",flex:1,editable:!0,valueSetter:(u,C)=>{const c=C.repeats??0,h=C.repeatSize??0,v=c*h;return console.log("totalFabric",v),{...C,totalFabric:v}}},{field:"uomId",headerName:"UOM",editable:!0,flex:1,type:"singleSelect",valueOptions:U.map(u=>({value:u.lookUpId,label:u.lookUpName}))},{field:"shrinkage",headerName:"Shrinkage",flex:1,editable:!0},{field:"wastage",headerName:"Wastage",flex:1,editable:!0},{field:"total",headerName:"Total",flex:1,editable:!0,valueSetter:(u,C)=>{const c=C.shrinkage??0,h=C.wastage??0,v=C.totalFabric??0,f=v*(100-(c+h))/100;return console.log("totalFabric",v),{...C,total:f}}}];console.log("batchList:",V);const F="https://gecxc.com:4041/api/PrePlanning/SavePrePlanning",le="https://gecxc.com:4041/api/PrePlanning/DeletePreplanningByPlanningId?PlanningId=",ue=(u,C)=>{ae(C)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"CardHeader",children:e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",avatar:e.jsx($e,{}),title:"Pre Planning",titleTypographyProps:{style:{color:"white"}},children:" "}),e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsxs(l,{item:!0,xs:12,md:2,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Select Collection",name:"collectionId",value:i.collectionId,onChange:k,size:"small",children:g.map(u=>e.jsx(j,{value:u.collectionId,children:u.collectionName},u.collectionId))})," "]}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Design",name:"designId",value:i.designId,onChange:k,size:"small",children:W.map(u=>e.jsx(j,{value:u.designId,children:u.designNo},u.designId))})}),e.jsxs(l,{item:!0,xs:12,md:2,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Batch No.",name:"batchNo",value:i.batchNo,onChange:k,size:"small",children:V.map(u=>e.jsx(j,{value:u.batchNo,children:u.batchNo},u.batchNo))})," "]}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"No of Design",fullWidth:!0,size:"small",name:"noOfDesigns",value:i.noOfDesigns,onChange:k,disabled:!0})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"No of Color",fullWidth:!0,size:"small",name:"noOfColors",value:i.noOfColors,onChange:k,disabled:!0})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Base Color",fullWidth:!0,size:"small",name:"baseColorName",value:i.baseColorName,onChange:k,disabled:!0})})]})]})}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"MainCard",avatar:e.jsx(Le,{}),title:"Add Pre Planning",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(Ce,{expanded:he,onChange:ue,sx:{},children:[e.jsx(ye,{expandIcon:e.jsx(Se,{}),"aria-controls":"panel1-content",id:"panel1-header"}),e.jsx(Pe,{children:e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(be,{fullWidth:!0,options:B,getOptionLabel:u=>u.lookUpName,value:B.find(u=>u.lookUpId===i.componentId)||null,onChange:(u,C)=>{k({target:{name:"componentId",value:C?C.lookUpId:""}})},renderInput:u=>e.jsx(o,{...u,label:"Select Component",size:"small",name:"componentId",value:i.componentId})})}),e.jsxs(l,{item:!0,xs:12,md:2,children:[" ",e.jsx(be,{fullWidth:!0,options:R,getOptionLabel:u=>u.lookUpName,value:R.find(u=>u.lookUpId===i.colorId)||null,onChange:(u,C)=>{k({target:{name:"colorId",value:C?C.lookUpId:""}})},renderInput:u=>e.jsx(o,{...u,label:"Color",size:"small",value:i.colorId,name:"colorId"})})]}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Cutting Size",fullWidth:!0,size:"small",name:"cuttingSize",value:i.cuttingSize,onChange:k})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(be,{fullWidth:!0,options:H,getOptionLabel:u=>u.lookUpName,value:H.find(u=>u.lookUpId===i.fabricId)||null,onChange:(u,C)=>{k({target:{name:"fabricId",value:C?C.lookUpId:""}})},renderInput:u=>e.jsx(o,{...u,label:"Fabrication",size:"small",name:"fabricId",value:i.fabricId})})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{fullWidth:!0,select:!0,label:"No of Heads",defaultValue:"",size:"small",name:"noOfHeads",value:i.noOfHeads,onChange:k,children:w.map(u=>e.jsx(j,{value:u.lookUpId,children:u.lookUpName},u.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Repeats",fullWidth:!0,size:"small",name:"repeats",value:i.repeats,onChange:k})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Repeat Size",fullWidth:!0,size:"small",name:"repeatSize",value:i.repeatSize,onChange:k})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Total Fabric",fullWidth:!0,size:"small",name:"totalFabric",value:i.totalFabric,onChange:k})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{fullWidth:!0,select:!0,label:"UOM",defaultValue:"",size:"small",name:"uomId",value:i.uomId,onChange:k,children:U.map(u=>e.jsx(j,{value:u.lookUpId,children:u.lookUpName},u.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Shrinkage %",fullWidth:!0,size:"small",name:"shrinkage",value:i.shrinkage,onChange:k})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Wastage %",fullWidth:!0,size:"small",name:"wastage",value:i.wastage,onChange:k})}),e.jsx(l,{item:!0,xs:12,md:2,children:e.jsx(o,{label:"Total",fullWidth:!0,size:"small",name:"total",value:i.total,onChange:k})}),e.jsx(l,{item:!0,xs:12,textAlign:"right",children:e.jsx(Y,{variant:"contained",size:"small",onClick:me,children:"Save"})})]})})]})]}),e.jsx(l,{item:!0,xs:12,md:12,children:e.jsx(ce,{sx:{height:1,width:"100%",marginTop:1,marginBottom:0}})}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"MainCard",avatar:e.jsx(Ee,{}),title:"View",titleTypographyProps:{style:{color:"white"}}}),e.jsx(l,{sx:{paddingY:1,paddingX:1},children:e.jsx(l,{sx:{},item:!0,xs:12,children:M?e.jsx("div",{style:{display:"flex",top:"40%",position:"absolute",left:"45%"},children:e.jsx("img",{src:Bt,alt:"Loading",style:{width:300}})}):e.jsx(Qe,{ncolumns:se,initialRows:b,formData:i,editAPi:F,deleteApi:le,deleteBy:"planningId",disableAddRecord:!0})})})]})]})},wt=Rt,Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADl0lEQVR4nO2Y6W+MURTGB60tdiooagmJPZQgltRa+75GLEG1aGxtao9diDSERPFBRIgtPuGLXcSa2uKbf+Ynh+dtbsb7ztyZjlakJ5n03Pee985zz/pMY7EGaZD/SIAOwARgMTAHGAXk1CegxsB04CbwGXgCnAP2AIeBKuAp8AE4AXSrK2BNgBLgK3AeGBHiyWLZmCc7A8sEtBJo8TfBjQPeAkeBlh72ecBaYBfQHyjS+z3/BrhShax3yN4oeW0D0CZkvxGwCFgNjJb3e2UypBeAq0DTkP0pwAzpzYF99jfirH666CSgGmiWCYAXgSMJ9kvi1rmWewnsBwNLgb3AwdqCqwAuO96Zq8Sv8VAEwNlJzl0nux9hKeELbizwDMgC2ip0Xa1dSG8ju8nATOcS+5KFTnYl8uKmdMA1BT4CfbXe6H6pvmCjs853iqS189wKYlPcxyq5jwAOAG6lA3C73c5Z/3FLoNjjnPKIBm9tZ6Z1BOBTquCy1AZcT4wMKlVrOzzf46wdIc9aypMGbhrwOqXmDSwBToc8n6ww2qfA86wxlsshBdLechhYCTy2HE8F4HUf7/gKsNPRs60POmsrvodAJ9/DrON/018rhG0Kxxag0BuVI8Bmp0COW+HouYV4omZ0dsxH1JseSC9ye5RGVV7Ee+1EHF6IzWQ5e0VxAH9FB1iglvXeC5xeGm9fFFa5ypkVEe/dtT0rLOAksNvZWxM0dpGNQdItKoOAG6kAXAgckF4a54kCYGjEe9VxF3nurI3AdpReGJAETaVDRsVSATgLOCY9xzwBTAVWmScSvPcUGCLdbM86e4UBvVKa5Ij9NLPwptpiJgQhdp71SdYG+M1Snomh3HbtlTYDpa9WHyyzeQ1c8ganA6w/vUxi01okojKeTUfYDzePSbdCaWFhBt6l9TPARk/UsNcF3tiEAOYDXwyAh3cL3MIDtqZNtYz7WR4lAFdDpYB5wJkk53UL+KGm0Eid0zxdgLlyf3YicCYa+mWxBKJpsVx6uRpzj1htBNhvDVsVuEw/K2fF2QzVRVp5kI/10q8F3LHWInJQqZD3jWjOwzzPCnLvftQ0yrjgMaLE/YqDyQI8ArrUFcB79gMowb6lxyuxlVNOQ29fVwDzlYPdtW4kCl+hCVGlfmeN+pxsUiOnGQA5XgymWj3xjv6TUOMltZUr0s2ucexfEn5Pnu8qtoRTqt4E6Ck65k/tG6RBYvUvPwHk8jkSqvSzmwAAAABJRU5ErkJggg==",Wt=()=>{const[a,t]=d.useState({DPId:"",designId:"",batchNo:"",fabricId:"",ColorId:"",color:"",vendorId:"",processType:"",AvailableQty:"",Shrinkage:"",Wastage:"",OutputQty:"",UOM:"",RatePerUOM:"",UnitRatePerPo:"",TotalExclGst:"",GST:"0",GSTAmount:"",TotalIncludingGst:"",createdBy:0,poPcs:"",baseColorName:"",planningHeaderId:""}),{enqueueSnackbar:n}=Be();console.log("Dyeing form data to send",a);const{data:s}=Ie(),[S,W]=d.useState(""),{data:O}=ke(),{data:N,refetch:g}=je(S,{skip:!S}),{data:M,refetch:G}=Oe(a.designId,{skip:!a.designId}),{data:B}=ot(a.planningHeaderId,{skip:!a.planningHeaderId}),{data:X,refetch:H}=nt(a.planningHeaderId,{skip:!a.planningHeaderId}),[K,R]=d.useState([]),[Q,U]=d.useState([]),[T,w]=d.useState([]),[Z,V]=d.useState([]),[_,b]=d.useState([]),[A,i]=d.useState([]),[L,he]=d.useState([]),[ae,k]=d.useState(!1),me=(c,h)=>{k(h)};d.useEffect(()=>{N&&R(N.result)},[N]),d.useEffect(()=>{M&&U(M.result)},[M]),d.useEffect(()=>{B&&w(B.result)},[B]),d.useEffect(()=>{O&&he(O.result[0].vendorList)},[B]),console.log(L),d.useEffect(()=>{X&&b(X.result.map((c,h)=>({id:h,...c})))},[X]),d.useEffect(()=>{if(O){const c=O.result[0];V(c.uomList)}},[O]);const se=(s==null?void 0:s.result)||[],F=c=>{const{name:h,value:v}=c.target;if(h==="collectionId"){const f=se.find(p=>p.collectionId===parseInt(v));W(v),t({...a,collectionId:v,poPcs:f?f.poPcs:""})}else if(h==="designId"){const f=K.find(p=>p.designId===parseInt(v));t({...a,designId:v,baseColorId:f?f.colorId:"",baseColorName:f?f.colorName:""})}else if(h==="batchNo"){const f=Q.find(p=>p.batchNo===v);t({...a,batchNo:v,planningHeaderId:f?f.planningHeaderId:"",poPcs:f?f.poPcs:""})}else if(h==="fabricId"){const f=T.find(p=>p.fabricId===v);console.log("Selected Fabric:",T),t({...a,fabricId:v,OutputQty:f?f.total:""}),le(v)}else t(h==="processType"?{...a,processType:v}:h==="vendorId"?{...a,vendorId:v}:{...a,[h]:v})},le=async c=>{try{const v=(await $.get(`https://gecxc.com:4041/api/DyeingPrinting/GetFabricColorFromPrePlanningByFabricId?fabricId=${c}`)).data.result;if(console.log("Dyeing Color Data",v),v.length>0){const p=v[0];t(oe=>({...oe,Shrinkage:p.shrinkage.toFixed(2),Wastage:p.wastage.toFixed(2),UOM:p.uom,AvailableQty:p.total.toString()}))}const f=v.map(p=>({label:p.color,value:p.colorId}));if(i(f),f.length>0){const p=f[0];t(oe=>({...oe,ColorId:p.value,color:p.label})),k(!0)}}catch(h){console.error("Error fetching fabric color data:",h)}};d.useEffect(()=>{const c=()=>{const r=parseFloat(a.AvailableQty)||0,I=parseFloat(a.Shrinkage)||0,x=parseFloat(a.Wastage)||0;return r*(100-(I+x))/100},h=()=>{const r=parseFloat(a.AvailableQty)||0,I=parseFloat(a.RatePerUOM)||0;return r*I},v=(r,I)=>r*(1+I/100),f=c(),p=h(),oe=parseFloat(a.GST)||0,ge=v(p,oe),xe=parseFloat(a.poPcs)||0,m=xe?ge/xe:0;t(r=>({...r,OutputQty:f,TotalExclGst:p.toFixed(2),TotalIncludingGst:ge.toFixed(2),UnitRatePerPo:m.toFixed(2)}))},[a.AvailableQty,a.Shrinkage,a.Wastage,a.RatePerUOM,a.GST,a.poPcs,a.UnitRatePerPo]);const ue=async()=>{if(!a.designId||!a.batchNo){alert("Please fill all required fields.");return}console.log("Form Data:",a);const c={dpId:parseInt(a.DPId)||0,designId:parseInt(a.designId),batchNo:a.batchNo,fabricId:parseInt(a.fabricId),colorId:parseInt(a.ColorId)||0,vendorId:a.vendorId||0,processType:a.processType,availableQty:parseFloat(a.AvailableQty)||0,shrinkage:parseFloat(a.Shrinkage)||0,wastage:parseFloat(a.Wastage)||0,outputQty:parseFloat(a.OutputQty)||0,uomId:parseInt(a.UOM)||0,ratePerUOM:parseFloat(a.RatePerUOM)||0,unitRatePerPo:parseFloat(a.UnitRatePerPo)||0,totalExclGst:parseFloat(a.TotalExclGst)||0,gst:parseFloat(a.GST)||0,gstAmount:parseFloat(a.GSTAmount)||0,totalIncludingGst:parseFloat(a.TotalIncludingGst)||0,createdBy:a.createdBy};console.log("Payload:",c);try{const h=await $.post("https://gecxc.com:4041/api/DyeingPrinting/SaveDyeingPrinting",c);h.status===200?(console.log("Data saved successfully:",h.data),n("Dyeing saved successfully!",{variant:"success",autoHideDuration:5e3}),t({DPId:"",designId:"",batchNo:"",fabricId:"",ColorId:"",color:"",vendorId:"",processType:"",AvailableQty:"",Shrinkage:"",Wastage:"",OutputQty:"",UOM:"",RatePerUOM:"",UnitRatePerPo:"",TotalExclGst:"",GST:"0",GSTAmount:"",TotalIncludingGst:"",createdBy:0,poPcs:""})):(console.error("Failed to save data:",h.data),n("Dyeing not saved successfully!",{variant:"error",autoHideDuration:5e3})),k(!1)}catch(h){console.error("Error saving data:",h)}},u=[{field:"name",headerName:"Order Number",editable:!0,flex:2},{field:"DesignId",headerName:"Design",type:"number",flex:1,align:"left",headerAlign:"left",editable:!0},{field:"FabricId",headerName:"Fabric",type:"date",flex:1,editable:!0},{field:"ProcessType",headerName:"Process",flex:1,editable:!0},{field:"ColorId",headerName:"Color",flex:1,editable:!0},{field:"role",headerName:"Po Pcs",flex:1,editable:!0},{field:"AvailableQty",headerName:"Qty",flex:1,editable:!0},{field:"UOM",headerName:"UOM",flex:1,editable:!0},{field:"RatePerUOM",headerName:"Rate",flex:1,editable:!0},{field:"UnitRatePerPo",headerName:"Unit Price",flex:1,editable:!0},{field:"TotalIncludingGst",headerName:"Total W/ GST",flex:1,editable:!0}],C=[{value:"D",label:"Dyeing"},{value:"P",label:"Printing"}];return e.jsxs(e.Fragment,{children:[e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",avatar:e.jsx(rt,{src:Ft,sx:{background:"transparent"}}),title:"Dyeing ",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Select Collection",name:"collectionId",value:S,onChange:F,size:"small",children:se.map(c=>e.jsx(j,{value:c.collectionId,children:c.collectionName},c.collectionId))})," "]}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Design",name:"designId",value:a.designId,onChange:F,size:"small",children:K.map(c=>e.jsx(j,{value:c.designId,children:c.designNo},c.designId))})}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Batch No.",name:"batchNo",value:a.batchNo,onChange:F,size:"small",children:Q.map(c=>e.jsx(j,{value:c.batchNo,children:c.batchNo},c.batchNo))})," "]}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Base Color",fullWidth:!0,size:"small",name:"baseColorName",value:a.baseColorName,onChange:F,disabled:!0})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Fabric",defaultValue:"",size:"small",name:"fabricId",value:a.fabricId,onChange:F,children:T.map(c=>e.jsx(j,{value:c.fabricId,children:c.fabric},c.fabricId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(Pt,{fullWidth:!0,options:A,getOptionLabel:c=>c.label||"",renderInput:c=>e.jsx(o,{...c,label:"Color",name:"ColorId",size:"small"}),value:A.find(c=>c.value===a.ColorId)||null,onChange:(c,h)=>{t(v=>({...v,ColorId:h?h.value:"",color:h?h.label:""}))}})})]})]}),e.jsx(ce,{color:"#cc8587",sx:{height:1,width:"100%",mt:2}}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",avatar:e.jsx(Le,{}),title:"Add Dyeing ",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(Ce,{expanded:ae,onChange:me,sx:{},children:[e.jsx(ye,{expandIcon:e.jsx(Se,{}),"aria-controls":"panel1-content",id:"panel1-header"}),e.jsx(Pe,{children:e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Vendor Name",size:"small",name:"vendorId",value:a.vendorId,onChange:F,children:L.map(c=>e.jsx(j,{value:c.lookUpId,children:c.lookUpName},c.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Process Type",size:"small",name:"processType",value:a.processType,onChange:F,children:C.map(c=>e.jsx(j,{value:c.value,children:c.label},c.value))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Po Pcs",fullWidth:!0,size:"small",name:"poPcs",value:a.poPcs,onChange:F})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"UOM",fullWidth:!0,size:"small",name:"UOM",value:a.UOM})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"AvailableQty",fullWidth:!0,size:"small",name:"AvailableQty",value:a.AvailableQty})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Shrinkage%",fullWidth:!0,size:"small",name:"Shrinkage",value:a.Shrinkage})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Wastage%",fullWidth:!0,size:"small",name:"Wastage",value:a.Wastage})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Output Qty",fullWidth:!0,size:"small",name:"OutputQty",value:a.OutputQty})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Rate",fullWidth:!0,size:"small",name:"RatePerUOM",value:a.RatePerUOM,onChange:F})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Total Excluding GST",fullWidth:!0,size:"small",name:"TotalExclGst",value:a.TotalExclGst,onChange:F})}),e.jsxs(l,{item:!0,xs:12,md:1.5,children:[e.jsx(o,{label:"GST",fullWidth:!0,size:"small",name:"GST",value:a.GST,onChange:F})," "]}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Total:Including Gst",fullWidth:!0,size:"small",name:"TotalExclGst",value:a.TotalIncludingGst,onChange:F})}),e.jsx(l,{item:!0,xs:12,md:1.5,children:e.jsx(o,{label:"Unit P: T/Po PC's",fullWidth:!0,size:"small",name:"UnitRatePerPo",value:a.UnitRatePerPo,onChange:F})}),e.jsx(l,{item:!0,xs:12,md:12,textAlign:"right",children:e.jsx(Y,{variant:"contained",color:"primary",size:"small",onClick:ue,children:"Save"})})]})})]})]}),e.jsx(ce,{color:"#cc8587",sx:{height:1,width:"100%",mt:2}}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",avatar:e.jsx(Ee,{}),title:"View Dyeing ",titleTypographyProps:{style:{color:"white"}}})," ",e.jsx(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:e.jsx(l,{item:!0,xs:12,md:12,paddingTop:1,children:e.jsx(Qe,{initialRows:_,ncolumns:u})})})]})]})},Tt=Wt,Ht=()=>{const[a,t]=d.useState([]),[n,s]=d.useState({schiffiliId:0,designId:"",planningHeaderId:0,batchNo:"",componentId:"",poPcs:"",baseColorName:"",fabricId:"",vendorId:"",colorId:"",availableQty:"",thaanQty:0,operatingMachineId:0,operatingMachine:"",workingHeadId:0,cuttingSize:"",rate:"",costPerComponent:"",totalEmbroidry:0,noOfItemPerThaan:0,noOfStichesPerYard:0,amountPerYard:0,totalPcs:0,laserCut:!1,laserCutRate:0,pcsForLaserCut:0,totalAmount:0,createdOn:new Date().toISOString(),createdBy:0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0});d.useEffect(()=>{s({schiffiliId:a.schiffiliId||0,designId:(a==null?void 0:a.designId)||"",planningHeaderId:(a==null?void 0:a.planningHeaderId)||0,batchNo:(a==null?void 0:a.batchNo)||"",componentId:(a==null?void 0:a.componentId)||"",poPcs:(a==null?void 0:a.poPcs)||"",baseColorName:(a==null?void 0:a.baseColorName)||"",fabricId:(a==null?void 0:a.fabricId)||"",vendorId:(a==null?void 0:a.vendorId)||"",colorId:(a==null?void 0:a.colorId)||"",availableQty:(a==null?void 0:a.availableQty)||"",thaanQty:(a==null?void 0:a.thaanQty)||0,operatingMachineId:(a==null?void 0:a.operatingMachineId)||0,operatingMachine:(a==null?void 0:a.operatingMachine)||"",workingHeadId:(a==null?void 0:a.workingHeadId)||0,cuttingSize:(a==null?void 0:a.cuttingSize)||"",rate:(a==null?void 0:a.rate)||"",costPerComponent:(a==null?void 0:a.costPerComponent)||"",totalEmbroidry:(a==null?void 0:a.totalEmbroidry)||0,noOfItemPerThaan:(a==null?void 0:a.noOfItemPerThaan)||0,noOfStichesPerYard:(a==null?void 0:a.noOfStichesPerYard)||0,amountPerYard:(a==null?void 0:a.amountPerYard)||0,totalPcs:(a==null?void 0:a.totalPcs)||0,laserCut:(a==null?void 0:a.laserCut)||!1,laserCutRate:(a==null?void 0:a.laserCutRate)||0,pcsForLaserCut:(a==null?void 0:a.pcsForLaserCut)||0,totalAmount:(a==null?void 0:a.totalAmount)||0,reatedOn:(a==null?void 0:a.createdOn)||new Date().toISOString(),createdBy:(a==null?void 0:a.createdBy)||0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0})},[a]);const[S,W]=d.useState(!1),O=(m,r)=>{W(r)},{data:N}=Ie(),[g,M]=d.useState(""),{data:G}=ke(),{data:B,refetch:X}=je(g,{skip:!g}),{data:H,refetch:K}=Oe(n.designId,{skip:!n.designId}),{data:R}=Fe({batchNo:n.planningHeaderId,componentId:n.componentId},{skip:!n.planningHeaderId||!n.componentId}),{data:Q}=We({batchNo:n.planningHeaderId,componentId:n.componentId,fabricId:n.fabricId},{skip:!n.planningHeaderId||!n.componentId||!n.fabricId}),{data:U,refetch:T}=dt(n.planningHeaderId,{skip:!n.planningHeaderId}),{data:w}=Te(n.planningHeaderId,{skip:!n.planningHeaderId});console.log("formData.planningHeaderId",n.planningHeaderId),console.log("collectionData",N),console.log("schiffliList",U);const[Z,V]=d.useState([]),[_,b]=d.useState([]),[A,i]=d.useState([]),[L,he]=d.useState([]),[ae,k]=d.useState([]),[me,se]=d.useState([]),[F,le]=d.useState([]),[ue,u]=d.useState([]),[C,c]=d.useState([]);d.useEffect(()=>{B&&V(B.result)},[B]),d.useEffect(()=>{H&&b(H.result)},[H]),d.useEffect(()=>{R&&i(R.result)},[R]),d.useEffect(()=>{Q&&le(R.result)},[Q]),d.useEffect(()=>{w&&c(w.result)},[w]),d.useEffect(()=>{U&&u(U.result.map((m,r)=>({id:r,...m})))},[U,T]),d.useEffect(()=>{if(G){const m=G.result[0];he(m.vendorList),k(m.operatingMachineList),se(m.workingHeadList)}},[G]),console.log("initialRows",ue);const h=(N==null?void 0:N.result)||[];d.useEffect(()=>{const m=()=>{const z=parseFloat(n.thaanQty)||0,te=parseFloat(n.operatingMachine)||0;return z*te};s(z=>({...z,totalEmbroidry:m()}));const r=()=>{const z=parseFloat(n.thaanQty)||0,te=parseFloat(n.noOfStichesPerYard)||0;return z*te};s(z=>({...z,totalPcs:r()}));const I=()=>{const z=parseFloat(n.noOfStichesPerYard)||0,te=parseFloat(n.rate)||0;return z/1e3*te};s(z=>({...z,amountPerYard:I()}));const x=()=>{const z=parseFloat(n.totalAmount)||0,te=parseFloat(n.totalPcs)||0;return z/te};s(z=>({...z,costPerComponent:x()}));const y=()=>{const z=parseFloat(n.amountPerYard)||0,te=parseFloat(n.totalEmbroidry)||0,Ae=parseFloat(n.laserCutRate)||0,ze=parseFloat(n.pcsForLaserCut)||0;return z*te+ze*Ae};s(z=>({...z,totalAmount:y()}))},[n.thaanQty,n.operatingMachine,n.noOfStichesPerYard,n.rate,n.totalAmount,n.totalPcs,n.amountPerYard,n.totalEmbroidry,n.laserCutRate,n.pcsForLaserCut]);const v=m=>{const{name:r,checked:I}=m.target;s(x=>({...x,[r]:I}))},f=m=>{const{name:r,value:I}=m.target;if(r==="collectionId")h.find(x=>x.collectionId===parseInt(I)),M(I),s({...n,collectionId:I});else if(r==="designId"){const x=Z.find(y=>y.designId===parseInt(I));s({...n,designId:I,baseColorId:x?x.colorId:"",baseColorName:x?x.colorName:""})}else if(r==="batchNo"){const x=_.find(y=>y.batchNo===I);s({...n,batchNo:I,planningHeaderId:x?x.planningHeaderId:"",poPcs:x?x.poPcs:""}),W(!0)}else if(r==="colorId"){const x=F.find(y=>y.colorId===I);s({...n,colorId:I,availableQty:x?x.total:"",cuttingSize:x?x.cuttingSize:"",repeats:x?x.repeats:""})}else if(r==="operatingMachineId"){const x=ae.find(y=>y.lookUpId===I);s({...n,operatingMachineId:I,operatingMachine:x?x.lookUpName:""})}else s({...n,[r]:I})};console.log("colors",F);const p=async()=>{try{const m=await $.post("https://gecxc.com:4041/api/Schiffli/SaveSchiffili",n);console.log("Save response:",m.data),s(r=>({designId:r.designId,planningHeaderId:r.planningHeaderId,batchNo:r.batchNo,schiffiliId:0,componentId:"",poPcs:"",baseColorName:r.baseColorName,fabricId:"",vendorId:"",colorId:"",availableQty:"",thaanQty:0,operatingMachineId:0,operatingMachine:"",workingHeadId:0,cuttingSize:"",rate:"",costPerComponent:"",totalEmbroidry:0,noOfItemPerThaan:0,noOfStichesPerYard:0,amountPerYard:0,totalPcs:0,laserCut:!1,laserCutRate:0,pcsForLaserCut:0,totalAmount:0,createdOn:new Date().toISOString(),createdBy:0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0})),T(),W(!1),t(r=>({designId:r.designId,planningHeaderId:r.planningHeaderId,batchNo:r.batchNo,schiffiliId:0,componentId:"",poPcs:"",baseColorName:r.baseColorName,fabricId:"",vendorId:"",colorId:"",availableQty:"",thaanQty:0,operatingMachineId:0,operatingMachine:"",workingHeadId:0,cuttingSize:"",rate:"",costPerComponent:"",totalEmbroidry:0,noOfItemPerThaan:0,noOfStichesPerYard:0,amountPerYard:0,totalPcs:0,laserCut:!1,laserCutRate:0,pcsForLaserCut:0,totalAmount:0,createdOn:new Date().toISOString(),createdBy:0,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:0}))}catch(m){console.error("Error saving data:",m)}};console.log("formData",n);const oe=m=>{t(m)};console.log("initialData",a);const ge=async m=>{try{await $.delete(`https://gecxc.com:4041/api/Schiffli/DeleteSchiffiById?schiffiId=${m}`),T(),console.log("deleted")}catch(r){console.error("Error deleting data:",r)}},xe=[{field:"componentName",headerName:"Component"},{field:"fabricName",headerName:"Fabric"},{field:"vendorName",headerName:"Vendor"},{field:"colourName",headerName:"Color"},{field:"thaanQty",headerName:"Thaan Quantity"},{field:"availableQty",headerName:"Available Quantitity"},{field:"operatingMachineName",headerName:"Operating Machine"},{field:"noOfHeadsName",headerName:"Working Head"},{field:"cuttingSize",headerName:"Cutting Size"},{field:"rate",headerName:"Rate"},{field:"noOfStichesPerYard",headerName:"No. Of Stiches Per Yard"},{field:"noOfItemPerThaan",headerName:"No. Of Item Per Thaan"},{field:"totalEmbroidry",headerName:"Total Embroidry"},{field:"amountPerYard",headerName:"Amount Per Yard"},{field:"totalPcs",headerName:"Total Pcs"},{field:"totalAmount",headerName:"Total Amount"},{field:"costPerComponent",headerName:"Cost Per Component"},{field:"laserCutRate",headerName:"LaserCut Rate"},{field:"pcsForLaserCut",headerName:"Pcs.For Laser Cut"},{field:"Action",headerName:"Actions",renderCell:m=>e.jsx("div",{style:{display:"flex",justifyContent:"space-around"},children:e.jsxs(Ve,{size:"small",variant:"text",children:[e.jsx(ve,{"aria-label":"Edit",onClick:()=>oe(m.row),children:e.jsx(Me,{})}),e.jsx(ve,{"aria-label":"delete",color:"primary",onClick:()=>ge(m.row.schiffiliId),children:e.jsx(Ge,{})})]})})}];return e.jsxs(e.Fragment,{children:[e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",title:"Schiffli ",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Select Collection",name:"collectionId",value:g,onChange:f,size:"small",children:h.map(m=>e.jsx(j,{value:m.collectionId,children:m.collectionName},m.collectionId))})," "]}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Design",name:"designId",value:n.designId,onChange:f,size:"small",children:Z.map(m=>e.jsx(j,{value:m.designId,children:m.designNo},m.designId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Base Color",fullWidth:!0,size:"small",name:"baseColorName",value:n.baseColorName,onChange:f,disabled:!0})}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Batch No.",name:"batchNo",value:n.batchNo,onChange:f,size:"small",children:_.map(m=>e.jsx(j,{value:m.batchNo,children:m.batchNo},m.batchNo))})," "]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(o,{fullWidth:!0,select:!0,label:"Components",name:"componentId",value:n.componentId,onChange:f,size:"small",children:C.map(m=>e.jsx(j,{value:m.componentId,children:m.componentName},m.componentId))})," "]}),e.jsx(l,{item:!0,xs:12,textAlign:"right",children:e.jsx(Y,{variant:"contained",size:"small",onClick:p,children:"Save"})})]})]}),e.jsx(ce,{color:"#cc8587",sx:{height:1,width:"100%",mt:2}}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",title:"Add Schiffli ",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(Ce,{expanded:S,onChange:O,sx:{},children:[e.jsx(ye,{expandIcon:e.jsx(Se,{}),"aria-controls":"panel1-content",id:"panel1-header"}),e.jsx(Pe,{children:e.jsxs(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Select Fabric",defaultValue:"",size:"small",name:"fabricId",value:n.fabricId,onChange:f,children:A.map(m=>e.jsx(j,{value:m.fabricId,children:m.fabric},m.fabricId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Vendors",defaultValue:"",size:"small",name:"vendorId",value:n.vendorId,onChange:f,children:L.map(m=>e.jsx(j,{value:m.lookUpId,children:m.lookUpName},m.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Po Pcs",fullWidth:!0,size:"small",name:"poPcs",value:n.poPcs,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"Color",size:"small",name:"colorId",value:n.colorId,onChange:f,children:F.map(m=>e.jsx(j,{value:m.colorId,children:m.color},m.colorId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Available Quantity",fullWidth:!0,size:"small",name:"availableQty",value:n.availableQty,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Thaan Quantity",fullWidth:!0,size:"small",name:"thaanQty",value:n.thaanQty,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"operatingMachineId",defaultValue:"",size:"small",name:"operatingMachineId",value:n.operatingMachineId,onChange:f,children:ae.map(m=>e.jsx(j,{value:m.lookUpId,children:m.lookUpName},m.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{fullWidth:!0,select:!0,label:"workingHeadId",defaultValue:"",size:"small",name:"workingHeadId",value:n.workingHeadId,onChange:f,children:me.map(m=>e.jsx(j,{value:m.lookUpId,children:m.lookUpName},m.lookUpId))})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Cutting Size",fullWidth:!0,size:"small",name:"cuttingSize",value:n.cuttingSize,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Rate",fullWidth:!0,size:"small",name:"rate",value:n.rate,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"No. Of Stiches Per Yard",fullWidth:!0,size:"small",name:"noOfStichesPerYard",value:n.noOfStichesPerYard,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"No. Of Items Per Thaan",fullWidth:!0,size:"small",name:"noOfItemPerThaan",value:n.noOfItemPerThaan,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Total Embroidry",fullWidth:!0,size:"small",name:"totalEmbroidry",value:n.totalEmbroidry,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Amount Per Yard",fullWidth:!0,size:"small",name:"amountPerYard",value:n.amountPerYard,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Total Pcs",fullWidth:!0,size:"small",name:"totalPcs",value:n.totalPcs,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Cost Per Component",fullWidth:!0,size:"small",name:"costPerComponent",value:n.costPerComponent,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(o,{label:"Total Amount",fullWidth:!0,size:"small",name:"totalAmount",value:n.totalAmount,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(He,{control:e.jsx(qe,{checked:n.laserCut,onChange:v,name:"laserCut"}),label:"Laser Cut"})}),n.laserCut?e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(l,{container:!0,spacing:1,width:"Inherit",children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(o,{label:"Laser Cut Rate",fullWidth:!0,size:"small",name:"laserCutRate",value:n.laserCutRate,onChange:f})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(o,{label:"Pcs For LaserCut",fullWidth:!0,size:"small",name:"pcsForLaserCut",value:n.pcsForLaserCut,onChange:f})})]})}):null]})})]})]}),e.jsx(ce,{color:"#cc8587",sx:{height:1,width:"100%",mt:2}}),e.jsxs(D,{variant:"outlined",children:[e.jsx(ee,{className:"css-4rfrnx-MuiCardHeader-root",title:"View Schiffli ",titleTypographyProps:{style:{color:"white"}}}),e.jsx(l,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:e.jsx(l,{sx:{marginTop:2},item:!0,xs:12,children:e.jsx(re,{sx:{height:500,width:"inherit","& .actions":{color:"text.secondary"},"& .textPrimary":{color:"text.primary"}},children:e.jsx(Ne,{rows:ue,columns:xe,rowLength:100,sx:{boxShadow:2,border:2,borderColor:"primary.light","& .MuiDataGrid-cell:hover":{color:"primary.main"}}})})})})]})]})},Ut=Ht;function Lt(){const a=[{value:"D# 01-A",label:"D# 01-A"},{value:"D# 01-A",label:"D# 01-A"}],t=[{value:"D# 01-A-MM-Y",label:"D# 01-A-MM-Y"},{value:"No",label:"No"}],n=[{value:"Front",label:"Front"},{value:"Back",label:"Back"}],s=[{value:"Lawn 102/88",label:"Lawn 102/88"},{value:"Lawn 99/88",label:"Lawn 99/88"}],S=[{value:"Khuram",label:"Khuram"},{value:"Ramia",label:"Ramia"}],W=[{value:"Auto Fetch",label:"Auto Fetch"},{value:"No",label:"No"}],O=[{value:"Black",label:"Black"},{value:"Red",label:"Red"}],N=[{value:"Hand Work",label:"Hand Work"},{value:"Patch Work",label:"Patch Work"}];return e.jsxs(l,{container:!0,spacing:2,width:"Inherit",children:[e.jsx(l,{item:!0,md:12,width:"inherit",paddingX:1,children:e.jsx(ie,{variant:"h3",gutterBottom:!0,children:"Additional Process"})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Select Design",defaultValue:"D# 01-A",helperText:"Design",variant:"outlined",size:"small",fullWidth:!0,children:a.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Select Batch#",defaultValue:"D# 01-A-MM-Y",helperText:"Design",variant:"outlined",size:"small",fullWidth:!0,children:t.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Components",defaultValue:"Front",helperText:"Design",variant:"outlined",size:"small",fullWidth:!0,children:n.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Fabric",defaultValue:"Lawn 102/88",helperText:"Design",variant:"outlined",size:"small",fullWidth:!0,children:s.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Vendor Name",defaultValue:"Haneef",variant:"outlined",size:"small",fullWidth:!0,children:S.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Select Design Color",defaultValue:"Auto Fetch",variant:"outlined",size:"small",fullWidth:!0,children:W.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:" Color",defaultValue:"Black",variant:"outlined",size:"small",fullWidth:!0,children:O.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:" Process Type",defaultValue:"Hand Work",variant:"outlined",size:"small",fullWidth:!0,children:N.map(g=>e.jsx(j,{value:g.value,children:g.label},g.value))})}),e.jsx(l,{item:!0,md:1.5,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Pcs per component",name:"Pcs per component",size:"small",required:!0})}),e.jsx(l,{item:!0,md:1.5,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"PO PC'S",name:"PO PC'S",size:"small",disabled:!0})}),e.jsx(l,{item:!0,md:1.5,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:" Quantity",name:"Quantity",size:"small",required:!0})}),e.jsx(l,{item:!0,md:1.5,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Rate",name:"Rate",size:"small",required:!0})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Cost per Component",name:"Cost per Component",size:"small",required:!0})}),e.jsx(l,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Total Amount",name:"Total Amount",size:"small",required:!0})}),e.jsx(l,{item:!0,md:12,width:"inherit",paddingX:1,textAlign:"right",children:e.jsx(Y,{variant:"contained",color:"primary",size:"small",children:"Add"})})]})}function Et(){const[a,t]=d.useState([]),n=[{field:"Order No.",headerName:"Order No",width:150},{field:"Design",headerName:"Design",width:200},{field:"Design Color",headerName:"Design Color",minWidth:120},{field:"Component",headerName:"Component",minWidth:120},{field:"Fabric",headerName:"Fabric",minWidth:120},{field:"Vendor Name",headerName:"Vendor Name",minWidth:120},{field:"Process",headerName:"Process",minWidth:120},{field:"Color",headerName:"Color",minWidth:120},{field:"Po Pcs",headerName:"Po Pcs",minWidth:120},{field:"Qty",headerName:"Qty",minWidth:120},{field:"Rate",headerName:"Rate",minWidth:120},{field:"Cost per Component",headerName:"Cost per Component",minWidth:120},{field:"Total Amount",headerName:"Total Amount",minWidth:120}];return e.jsx("div",{style:{height:"auto",width:"100%"},children:e.jsx(Ne,{rows:a,columns:n,autoHeight:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,15],localeText:{toolbarDensity:"Size",toolbarDensityLabel:"Size",toolbarDensityCompact:"Small",toolbarDensityStandard:"Medium",toolbarDensityComfortable:"Large"},components:{Toolbar:Ye}})})}function Mt(){return e.jsxs(Ue,{style:{borderWidth:1,borderStyle:"dotted",borderColor:"#a11f23"},children:[e.jsx(Lt,{}),e.jsx(ce,{}),e.jsx(Et,{})]})}function Gt(){const a=[{value:"Card Printing",label:"Card Printing"},{value:"Additional Service",label:"Additional Service"}],t=[{value:"Elaf PVC Zipper Bag",label:"Elaf PVC Zipper Bag"},{value:"No",label:"No"}],n=[{value:"Mudassir Hussain Packaging Service",label:"Mudassir Hussain Packaging Service"},{value:"No",label:"No"}];return e.jsxs(l,{container:!0,spacing:2,width:"Inherit",children:[e.jsx(l,{item:!0,md:12,width:"inherit",paddingX:1,children:e.jsx(ie,{variant:"h3",gutterBottom:!0,children:"Additional Services"})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Service Type",defaultValue:"Card Printing",helperText:"Service Type",variant:"outlined",size:"small",fullWidth:!0,children:a.map(s=>e.jsx(j,{value:s.value,children:s.label},s.value))})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Service List",defaultValue:"Elaf PVC Zipper Bag",helperText:"Service List",variant:"outlined",size:"small",fullWidth:!0,children:t.map(s=>e.jsx(j,{value:s.value,children:s.label},s.value))})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-select-option",select:!0,label:"Vendor Name",defaultValue:"Mudassir Hussain Packaging Service",helperText:"Service List",variant:"outlined",size:"small",fullWidth:!0,children:n.map(s=>e.jsx(j,{value:s.value,children:s.label},s.value))})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"PO PC's",name:"PO PC's",size:"small",disabled:!0})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Qty",name:"Qty",size:"small",required:!0})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"UOM",name:"UOM",size:"small",required:!0})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Rate",name:"Rate",size:"small",required:!0})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Total Amount",name:"Total Amount",size:"small",required:!0})}),e.jsx(l,{item:!0,md:4,width:"inherit",paddingX:1,children:e.jsx(o,{id:"outlined-required",label:"Cost per Piece",name:"Cost per Piece",size:"small",required:!0})}),e.jsx(l,{item:!0,md:12,width:"inherit",paddingX:1,textAlign:"right",children:e.jsx(Y,{variant:"contained",color:"primary",size:"small",children:"Add"})})]})}function Qt(){const[a,t]=d.useState([]),n=[{field:"Service Type",headerName:"Service Type",width:150},{field:"Service List",headerName:"Service List",width:200},{field:"Vendor",headerName:"Vendor",minWidth:120},{field:"Qty",headerName:"Qty",minWidth:120},{field:"UOM",headerName:"UOM",minWidth:120},{field:"Rate",headerName:"Rate",minWidth:120},{field:"Total Amount",headerName:"Total Amount",minWidth:120}];return e.jsx("div",{style:{height:"auto",width:"100%"},children:e.jsx(Ne,{rows:a,columns:n,autoHeight:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,15],localeText:{toolbarDensity:"Size",toolbarDensityLabel:"Size",toolbarDensityCompact:"Small",toolbarDensityStandard:"Medium",toolbarDensityComfortable:"Large"},components:{Toolbar:Ye}})})}function qt(){return e.jsxs(Ue,{style:{borderWidth:1,borderStyle:"dotted",borderColor:"#a11f23"},children:[e.jsx(Gt,{}),e.jsx(ce,{}),e.jsx(Qt,{})]})}const fe=["Pre Planning","Fabrication","Dyeing/Printing  ","Embroidery ","Schiffli","Additional Process","Additional Services"];function Dt(){const[a,t]=d.useState(0),[n,s]=d.useState(new Set),[S,W]=d.useState(null),[O,N]=d.useState([]),{enqueueSnackbar:g}=Be(),M=b=>{W(b.currentTarget)},G=()=>{W(null)},B=!!S,X=B?"simple-popover":void 0,H=b=>b===1,K=b=>n.has(b),R=()=>{let b=n;K(a)&&(b=new Set(b.values()),b.delete(a)),t(A=>A+1),s(b)},Q=()=>{t(b=>b-1)},U=()=>{if(!H(a))throw new Error("You can't skip a step that isn't optional.");t(b=>b+1),s(b=>{const A=new Set(b.values());return A.add(a),A})},T=()=>{t(0)},[w,Z]=d.useState({lookUpId:"",lookUpName:"",lookUpDomain:"",lookUpCategory:"",enabled:"",createdOn:new Date().toISOString()}),V=async()=>{if(!w.lookUpDomain||!w.lookUpName){g("Please fill in all required fields.",{variant:"error",autoHideDuration:5e3});return}try{const b=await $.get(`https://gecxc.com:4041/api/Common/SaveLookUp?lookupDomain=${w.lookUpDomain}&LookUpName=${w.lookUpName}&appId=1`);return console.log("Form data saved:",b.data),g("Lookup saved successfully!",{variant:"success",autoHideDuration:5e3}),Z({lookUpId:"",lookUpName:"",lookUpDomain:"",lookUpCategory:"",enabled:"",createdOn:new Date().toISOString()}),b.data}catch(b){throw console.error("Error saving data:",b),g("Error saving data. Please try again.",{variant:"error",autoHideDuration:5e3}),b}},_=b=>{Z({...w,[b.target.name]:b.target.value})};return d.useEffect(()=>{(async()=>{try{const A=await $.get("https://gecxc.com:4041/api/Common/GetLookUpDomains?appId=1");console.log("LookupData",A),N(A.data.result)}catch(A){console.error("Error fetching design options:",A)}})()},[]),e.jsxs(re,{sx:{width:"100%"},children:[e.jsxs(l,{container:!0,spacing:1,width:"Inherit",children:[e.jsx(l,{item:!0,sm:6,children:e.jsx(ie,{variant:"h2",gutterBottom:!0,children:"Planning Process"})}),e.jsxs(l,{item:!0,sm:6,textAlign:"right",children:[e.jsx(Y,{"aria-describedby":X,variant:"outlined",size:"small",onClick:M,children:"+Lookup"}),e.jsx(bt,{id:"mouse-over-popover",open:B,anchorEl:S,onClose:G,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{".MuiPopover-paper":{width:"300px",padding:"16px"}},children:e.jsxs(l,{container:!0,spacing:3,width:"Inherit",children:[e.jsx(l,{item:!0,sm:12,children:e.jsx(o,{fullWidth:!0,id:"outlined-select-currency",select:!0,label:"Select Lookup",size:"small",value:w.lookUpDomain,name:"lookUpDomain",onChange:_,children:O.map(b=>e.jsx(j,{value:b.lookUpDomain,children:b.lookUpDomain},b.lookUpDomain))})}),e.jsx(l,{item:!0,sm:12,children:e.jsx(o,{fullWidth:!0,label:"Add Lookup Description",value:w.lookUpName,onChange:_,name:"lookUpName",size:"small"})}),e.jsx(l,{item:!0,sm:3,textAlign:"right",children:e.jsx(Y,{variant:"contained",size:"small",onClick:V,children:"Save"})})]})})]})]}),e.jsx(it,{activeStep:a,children:fe.map((b,A)=>{const i={},L={};return H(A)&&(L.optional=e.jsx(ie,{variant:"caption",children:"Optional"})),K(A)&&(i.completed=!1),e.jsx(ct,{...i,children:e.jsx(ut,{...L,children:b})},b)})}),e.jsxs(re,{sx:{display:"flex",flexDirection:"row",pt:2},children:[e.jsx(Y,{color:"inherit",disabled:a===0,onClick:Q,sx:{mr:1},children:"Back"}),e.jsx(re,{sx:{flex:"1 1 auto"}}),H(a)&&e.jsx(Y,{color:"inherit",onClick:U,sx:{mr:1},children:"Skip"}),e.jsx(Y,{onClick:R,children:a===fe.length-1?"Finish":"Next"})]}),a===fe.length?e.jsxs(d.Fragment,{children:[e.jsx(ie,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),e.jsxs(re,{sx:{display:"flex",flexDirection:"row",pt:2},children:[e.jsx(re,{sx:{flex:"1 1 auto"}}),e.jsx(Y,{onClick:T,children:"Reset"})]})]}):e.jsxs(d.Fragment,{children:[a===0&&e.jsx(wt,{}),a===1&&e.jsx(ht,{}),a===2&&e.jsx(Tt,{}),a===3&&e.jsx(Ot,{}),a===4&&e.jsx(Ut,{}),a===5&&e.jsx(Mt,{}),a===6&&e.jsx(qt,{}),e.jsxs(re,{sx:{display:"flex",flexDirection:"row",pt:2},children:[e.jsx(Y,{color:"inherit",disabled:a===0,onClick:Q,sx:{mr:1},children:"Back"}),e.jsx(re,{sx:{flex:"1 1 auto"}}),H(a)&&e.jsx(Y,{color:"inherit",onClick:U,sx:{mr:1},children:"Skip"}),e.jsx(Y,{onClick:R,children:a===fe.length-1?"Finish":"Next"})]})]})]})}export{Dt as default};
