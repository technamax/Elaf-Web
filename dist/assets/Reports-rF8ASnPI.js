import{j as r,C as y,d as D,G as d}from"./index-CZjWfJ9S.js";import{r as a}from"./vendor-BXCbSo2_.js";import{T as R}from"./TextField-C0yoPlRE.js";import{M as b}from"./MenuItem-EYddAVor.js";const E=({rId:c,paramIssuanceId:n,OGPNumber:p})=>{const[u,x]=a.useState([]),[s,f]=a.useState(""),[S,h]=a.useState(""),[j,m]=a.useState(""),i=a.useRef(null);a.useEffect(()=>{(async()=>{try{const o=await(await fetch("http://100.42.177.77:83/api/Reports/GetReportsByAppId?appId=1")).json();if(x(o.result),c){const l=o.result.find(w=>w.reportId===c);l&&(h(c),f(l.reportUrl),m(l.reportDesc))}}catch(t){console.error("Error fetching reports:",t)}})()},[c]);const g=e=>{const t=e.target.value,o=u.find(l=>l.reportId===t);h(t),f(o?o.reportUrl:""),m(o?o.reportDesc:"")};return a.useEffect(()=>{if(n){const e=i.current;if(e&&s){const t=`${s}&ParamIssuanceId=${n||""}`;e.src=t}}if(p){const e=i.current;if(e&&s){const t=`${s}&ParamOGPNumber=${p||""}`;e.src=t}}},[s,n,p]),r.jsxs(y,{variant:"outlined",children:[r.jsx(D,{className:"css-4rfrnx-MuiCardHeader-root",title:"View Reports ",titleTypographyProps:{style:{color:"white"}}})," ",r.jsxs(d,{container:!0,spacing:2,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[r.jsx(d,{item:!0,xs:12,md:6,children:r.jsx(R,{fullWidth:!0,select:!0,label:"Select Report",name:"selectedReport",value:c||S,onChange:g,size:"small",InputLabelProps:{sx:{color:"black"}},children:u.map(e=>r.jsx(b,{value:e.reportId,children:e.reportName},e.reportId))})}),r.jsx(d,{item:!0,xs:12,md:6,children:r.jsx(R,{fullWidth:!0,label:"Report Description",name:"selectedReportDesc",value:j,InputProps:{readOnly:!0},size:"small",InputLabelProps:{sx:{color:"black"}}})})]}),s&&r.jsx("iframe",{ref:i,src:s,style:{height:"80vh",width:"100%",border:"none",marginTop:"20px"},title:"SSRS Report"})]})};export{E as default};
