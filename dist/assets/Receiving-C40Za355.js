import{c as F,u as V,K as H,j as e,B as v,C as U,d as X,G as x,T,l as Y,M as _}from"./index-CFVVvMCv.js";import{r as s}from"./vendor-BXCbSo2_.js";import{d as K}from"./CategoryOutlined-aciTGmNr.js";import{d as h}from"./AssignmentOutlined-BrwFvefQ.js";import{d as k}from"./Close-2KGTeAX4.js";import{R as Q}from"./ReceivingDetails-DnSRGB35.js";import{R as q,a as N,b as B,c as G,d as O,B as J}from"./ReuseableDataGrid-CFuFh_7m.js";import Z from"./Reports-BlSSelKc.js";import{T as ee}from"./TextField-BrYEIcy4.js";import{B as b,I as A}from"./axios-qW6zj_I1.js";import{T as te,a as ae,b as u,c as l}from"./TabPanel-CgnMXqCJ.js";import"./MenuItem-DgPC5BfG.js";import"./Skeleton-CkF-SxFD.js";const se=()=>{F();const{user:o}=V();s.useState([]),s.useState(!1);const[i,r]=s.useState({issuanceId:"",appId:o.appId,createdOn:new Date().toISOString(),createdBy:o.empId,lastUpdatedOn:new Date().toISOString(),LastUpdatedBy:o.empId}),[d,f]=s.useState([]),[g,m]=s.useState(!1),{data:n,error:j,isLoading:a,refetch:p}=H(i.issuanceId,{skip:!g||!i.issuanceId});s.useEffect(()=>{n&&f(n.result.map((t,c)=>({id:c,...t})))},[n,p]),console.log("initialRows",d);const E=t=>{const{name:c,value:P}=t.target;r({...i,[c]:P})},C=()=>{i.issuanceId&&(m(!0),console.log(`Triggering search for issuanceId: ${i.issuanceId}`))};console.log("formData",i);const[M,S]=s.useState(!1),[W,I]=s.useState(!1),[D,R]=s.useState(!1),$=async t=>{R(t),S(!0)},z=async t=>{I(!0),R(t)},y=()=>{S(!1)},w=()=>{I(!1)},L=[{field:"id",headerName:"Sr#"},{field:"issuanceId",headerName:"issuance#"},{field:"ogpNumber",headerName:"OGP#"},{field:"vendorName",headerName:"Vendor"},{field:"issuanceQuantity",headerName:"Total",valueGetter:t=>t.toLocaleString()},{field:"issuanceDate",headerName:"Issuance Date",valueGetter:t=>new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"})},{field:"expectedReturnDate",headerName:"Expected Return Date",valueGetter:t=>new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"})},{field:"fabricCount",headerName:"Fabrics"},{field:"statusName",headerName:"Status"},{field:"Actions",headerName:"Actions",renderCell:t=>e.jsx("div",{style:{display:"flex",justifyContent:"space-around"},children:e.jsxs(J,{variant:"text",size:"small",sx:{mt:1},children:[e.jsx(b,{size:"small",color:"primary",onClick:()=>$(t.row),children:"View Details"}),e.jsx(b,{size:"small",color:"primary",onClick:()=>z(t.row),children:"IGP"})]})})}];return e.jsx(v,{sx:{width:"100%",typography:"body1"},children:e.jsxs(U,{variant:"outlined",children:[e.jsx(X,{className:"css-4rfrnx-MuiCardHeader-root",title:"Receiving",titleTypographyProps:{style:{color:"white"}}}),e.jsxs(x,{container:!0,spacing:1,width:"Inherit",sx:{paddingY:2,paddingX:2},children:[e.jsx(x,{item:!0,xs:12,md:3,children:e.jsx(ee,{label:"Enter Issuance ID",type:"number",fullWidth:!0,size:"small",name:"issuanceId",onChange:E,onKeyDown:t=>{t.key==="Enter"&&C()},value:i.issuanceId,required:!0})}),e.jsx(x,{item:!0,xs:12,md:3,sx:{mt:.5},children:e.jsx(b,{variant:"contained",size:"small",onClick:C,children:"Search"})}),e.jsxs(x,{item:!0,xs:12,children:[e.jsx(q,{initialRows:d,iColumns:L,hideAction:!0}),e.jsxs(N,{open:M,onClose:y,fullWidth:!0,maxWidth:"xl",children:[e.jsxs(B,{sx:{backgroundColor:"#A11F23",color:"#ffffff",display:"flex",justifyContent:"space-between",alignItems:"center",paddingX:"24px",paddingY:"4px"},children:[e.jsx(T,{variant:"h4",component:"div",color:"#ffffff",gutterBottom:!0,fontSize:20,fontWeight:2,fontStyle:"normal",children:"View Details"}),e.jsx(A,{onClick:y,sx:{color:"#ffffff"},children:e.jsx(k,{})})]}),e.jsxs(G,{children:[e.jsx(O,{id:"alert-dialog-slide-description"}),e.jsx(Q,{iss:D,handleClose:y,refetchIssuanceData:p})]})]}),e.jsxs(N,{open:W,onClose:w,fullWidth:!0,maxWidth:"xl",children:[e.jsxs(B,{sx:{backgroundColor:"#A11F23",color:"#ffffff",display:"flex",justifyContent:"space-between",alignItems:"center",paddingX:"24px",paddingY:"4px",mb:2.5},children:[e.jsx(T,{variant:"h4",component:"div",color:"#ffffff",gutterBottom:!0,fontSize:20,fontWeight:2,fontStyle:"normal",children:"Create OGP"}),e.jsx(A,{onClick:w,sx:{color:"#ffffff"},children:e.jsx(k,{})})]}),e.jsxs(G,{children:[e.jsx(O,{id:"alert-dialog-slide-description"}),e.jsx(Z,{rId:14,OGPNumber:D.ogpNumber})]})]})]})]})]})})},ge=()=>{var m,n,j;const o=Y(),i=(m=o.state)==null?void 0:m.data,r=(j=(n=o.state)==null?void 0:n.tab)==null?void 0:j.toString();console.log("rowData",i),console.log("tab",r);const[d,f]=s.useState("1"),g=(a,p)=>{f(p),console.log("value",d)};return s.useEffect(()=>{r&&f(r)},[r]),e.jsx(_,{style:{borderWidth:1,borderStyle:"dotted",borderColor:"#a11f23",width:"auto",maxHeight:{xs:"80vh",md:"auto"},overflow:"auto"},children:e.jsx(v,{sx:{width:"100%",typography:"body1"},children:e.jsxs(te,{value:d,children:[e.jsx(v,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ae,{onChange:g,children:[e.jsx(u,{icon:e.jsx(K,{}),label:"Dyeing Receiving",value:"1",sx:a=>({"& .MuiTouchRipple-child":{backgroundColor:`${a.palette.primary.main} !important`}})}),e.jsx(u,{icon:e.jsx(h,{}),label:"Embroidery Receiving",value:"2",sx:a=>({"& .MuiTouchRipple-child":{backgroundColor:`${a.palette.primary.main} !important`}})}),e.jsx(u,{icon:e.jsx(h,{}),label:"Schiffili Receiving",value:"3",sx:a=>({"& .MuiTouchRipple-child":{backgroundColor:`${a.palette.primary.main} !important`}})}),e.jsx(u,{icon:e.jsx(h,{}),label:"Additional Process Receiving",value:"4",sx:a=>({"& .MuiTouchRipple-child":{backgroundColor:`${a.palette.primary.main} !important`}})}),e.jsx(u,{icon:e.jsx(h,{}),label:"Additional Services Receiving",value:"5",sx:a=>({"& .MuiTouchRipple-child":{backgroundColor:`${a.palette.primary.main} !important`}})})]})}),e.jsx(l,{value:"1",children:e.jsx(se,{rowData:i})}),e.jsx(l,{value:"2"}),e.jsx(l,{value:"3"}),e.jsx(l,{value:"4"}),e.jsx(l,{value:"5"}),e.jsx(l,{value:"6"})]})})})};export{ge as default};
