import{r as d,j as e,B as p,G as r,D as g}from"./index-QV_izsA6.js";import{a as h}from"./axios-dN3qa5E9.js";import{T as m,B as x}from"./TextField-CPLw8Kp8.js";import{M as f}from"./Skeleton-BeUP2jfQ.js";import{D as M}from"./DataGrid-LBF-WdiM.js";import{G as D}from"./GridToolbar-Rb_lwWXw.js";function b({onSaveSuccess:o}){const u=[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],[t,l]=d.useState({mainMenuDesc:"",orderNo:"",enabled:"",createdBy:0,createdOn:new Date().toISOString(),appId:1,icon:""}),n=a=>{const{name:s,value:c}=a.target;l({...t,[s]:c})},i=async()=>{console.log(t);try{const a=await h.post("https://gecxc.com:4041/api/Menu/SaveMainMenu",t);console.log("Form data saved:",a.data),l({mainMenuDesc:"",orderNo:"",enabled:"",createdBy:0,createdOn:new Date().toISOString(),appId:1,icon:""}),o&&o()}catch(a){console.error("Error saving data:",a)}};return e.jsx("div",{children:e.jsx(p,{m:3,pt:3,component:"form",sx:{"& .MuiTextField-root":{m:1,width:"inherit"}},noValidate:!0,autoComplete:"off",children:e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(m,{id:"outlined-required",label:"Main Menu Description",name:"mainMenuDesc",size:"small",value:t.mainMenuDesc,onChange:n,required:!0})}),e.jsx(r,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(m,{id:"outlined-required",label:"Order No.",name:"orderNo",size:"small",value:t.orderNo,onChange:n,required:!0})}),e.jsx(r,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(m,{id:"outlined-select-option",select:!0,label:"Enabled",name:"enabled",value:t.enabled,onChange:n,size:"small",fullWidth:!0,children:u.map(a=>e.jsx(f,{value:a.value,children:a.label},a.value))})}),e.jsx(r,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(m,{id:"outlined-required",label:"app Id",name:"appId",size:"small",value:t.appId,onChange:n,required:!0})}),e.jsx(r,{item:!0,md:3,width:"inherit",paddingX:1,children:e.jsx(m,{id:"outlined-required",label:"icon",name:"icon",size:"small",value:t.icon,onChange:n,required:!0})}),e.jsx(r,{item:!0,md:12,width:"inherit",paddingX:1,textAlign:"right",children:e.jsx(x,{variant:"contained",color:"primary",size:"small",onClick:i,children:"Save"})})]})})})}function j(){const[o,u]=d.useState([]),t=d.useCallback(async()=>{try{console.log("Fetching data...");const i=await h.get("https://gecxc.com:4041/api/Menu/GetMainMenuById?id=1");console.log("Data fetched:",i.data);const a=i.data.result.map((s,c)=>({id:c,...s}));console.log("Data with ID:",a),u(a)}catch(i){console.error("Error fetching data:",i)}},[]);d.useEffect(()=>{t()},[t]);const l=d.useCallback(async()=>{try{console.log("Fetching data...");const i=await h.get("https://gecxc.com:4041/api/Menu/GetMainMenuList");console.log("Data fetched:",i.data);const a=i.data.result.map((s,c)=>({id:c,...s}));console.log("Data with ID:",a),u(a)}catch(i){console.error("Error fetching data:",i)}},[]);d.useEffect(()=>{l()},[l]);const n=[{field:"mainMenuId",headerName:"Main Menu Id",width:150},{field:"mainMenuDesc",headerName:"Main Menu Desc",width:200},{field:"orderNo",headerName:"Order No",minWidth:120},{field:"enabled",headerName:"Enabled",minWidth:120},{field:"CreatedBy",headerName:"Created By",minWidth:120},{field:"CreatedOn",headerName:"Created On",minWidth:120},{field:"appId",headerName:"app Id",minWidth:120},{field:"icon",headerName:"icon",minWidth:120}];return e.jsx("div",{style:{height:"auto",width:"100%"},children:e.jsx(M,{rows:o,columns:n,autoHeight:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,15],localeText:{toolbarDensity:"Size",toolbarDensityLabel:"Size",toolbarDensityCompact:"Small",toolbarDensityStandard:"Medium",toolbarDensityComfortable:"Large"},components:{Toolbar:D}})})}function S(o){return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(g,{}),e.jsx(j,{fetchData:o})]})}export{S as default};
